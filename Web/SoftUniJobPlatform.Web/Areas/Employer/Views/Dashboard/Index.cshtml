@using SoftUniJobPlatform.Services.Data
@model SoftUniJobPlatform.Web.ViewModels.Jobs.AllJobsViewModel
@inject ICategoriesService Categories
@{
    ViewData["Title"] = "Jobs Page";
}



<h2 align="center">My Jobs(@Model.Jobs.Count())</h2>
<div>
    <a class="btn btn-dark" asp-area="Employer" asp-controller="Dashboard" asp-action="Create">Add Job</a>
</div>
<span></span>
<hr />
<div>
    <table class="table table-hover table-dark">
        <thead>
            <tr>
                <th scope="col">#</th>
                <th scope="col">Company</th>
                <th scope="col">Category</th>
                <th scope="col">Level</th>
                <th scope="col">Engagement</th>
                <th scope="col">Location</th>
                <th scope="col">Salary</th>
            </tr>
        </thead>
        @foreach (var job in Model.Jobs)
        {
            <tbody>
                <tr>
                    <th scope="row"></th>
                    <td><img src="@job.CompanyLogo" width="80" class="mr-3" alt="@job.Title"></td>
                    <td><img src="@Categories.GetById(@job.CategoryId).ImageUrl" width="80"  class="mr-3" /></td>
                    <td>@job.Level</td>
                    <td>@job.Engagement</td>
                    <td>@job.ViewSalary</td>
                    <td>@job.Location</td>
                    <td>
                        <a class="btn btn-primary" asp-area="Employer" asp-controller="Dashboard" asp-action="EditJob" asp-route-id="@job.Id">Edit</a>
                        <a class="btn btn-danger" asp-area="Employer" asp-controller="Dashboard" asp-action="DeleteJobAsync" asp-route-id="@job.Id">Delete</a>
                    </td>

                </tr>
            </tbody>
        }
    </table>
</div>


